# Wed Feb 18 21:03:52  2015
# Autogenerated by class creater script

UNITTESTDIR = ../../unittest
SRCDIR = .
INSTALLDIR = ../../unittest
# ================================================================
TESTNAME=test_usart_control
OUTTESTNAME=test_usart_control
CLASSNAME=usart_control
OUTCLASSNAME=usart_control
# ================================================================
DEFS=-DUNITTEST_MODE -DF_CPU=16000000L 
#-DCUSTOM_BAUD_RATE=115200
CPP=g++
CC=g++
C=gcc
STRIP=strip

CFLAGS = -Wall -Wcpp -Wextra -Weffc++ -O2 $(DEFS)
# LDFLAGS = 
# LIBS= -lpthread
# ================================================================
$(OUTTESTNAME): $(OUTTESTNAME).o $(OUTCLASSNAME).o
	mkdir -p $(UNITTESTDIR)
	$(CPP) $(CFLAGS) $(LDFLAGS) -o $(UNITTESTDIR)/$(OUTTESTNAME) $(OUTTESTNAME).o $(OUTCLASSNAME).o $(LIBS)
# 	$(STRIP) -s $(OUTTESTNAME)

$(OUTTESTNAME).o: $(SRCDIR)/$(TESTNAME).hpp $(SRCDIR)/$(CLASSNAME).hpp
	$(CPP) $(CFLAGS) -o $(SRCDIR)/$(OUTTESTNAME).o -c $(SRCDIR)/$(TESTNAME).cpp

$(OUTCLASSNAME).o: $(SRCDIR)/$(CLASSNAME).hpp $(SRCDIR)/$(CLASSNAME).cpp
	$(CPP) $(CFLAGS) -o $(SRCDIR)/$(OUTCLASSNAME).o -c $(SRCDIR)/$(CLASSNAME).cpp

clean:
	rm -f *.o

